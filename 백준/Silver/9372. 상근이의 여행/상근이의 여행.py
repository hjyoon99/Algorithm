# 테스트케이스 수
t = int(input())

for _ in range(t):

    # 국가, 비행기 정보
    n, m = map(int, input().split())

    for _ in range(m):
        # 비행기 
        a, b = map(int, input().split())

    # 모든 국가 방문하기 위한 최소 비행기 종류
    print(n-1)